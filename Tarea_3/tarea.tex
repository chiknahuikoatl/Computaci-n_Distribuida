\documentclass[12pt,a4paper]{report}

\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{pgf}
\usepackage{tikz}
\usepackage{calrsfs}
%\usepackage{algpseudocode}
\usepackage[linesnumbered,lined,boxed,commentsnumbered]{algorithm2e}
\usetikzlibrary{arrows, automata, calc, positioning}

\begin{document}

\begin{titlepage}
	\centering
	{\scshape\LARGE Universidad Nacional Autónoma de México \par}
	\vspace{1cm}
	{\scshape\Large Computación Distribuida\par}
	\vspace{1.5cm}
	{\huge\bfseries Tarea 3\par}
	\vspace{.5cm}
	{\Large\itshape Edgar Quiroz Castañeda \par}
    \vspace{.5cm}
	{\Large\itshape Jerónimo Almeida Rodríguez \par}
	\vfill
	 \includegraphics[width=0.5\textwidth]{escudo_f-ciencias.png}
	\vfill

% Bottom of the page
	{\large Jueves 30 de Agosto del 2018 \par}
\end{titlepage}

\pagebreak
\setlength{\voffset}{-0.75in}
\setlength{\headsep}{5pt}

\newcommand{\ed}[2]{(#1) edge (#2)}
\newcommand{\eee}[4]{\path [->,draw,thin] ($ (#1) !.5! (#2)$) -- ($ (#3) !.5! (#4) $);}


\begin{enumerate}
	%Ejercicio 1
	\item {
		Dados los procesos $A$ y $B$, diseña un algoritmo para el ataque coordinado
		aproximado (aproximate agreement) en el que para llegar al acuerdo deben
		decidir	valores que estén a distancia a lo más $\frac{1}{2^k}$ y utilice
		menos rondas de comunicación que el algoritmo visto en clase.

		El algoritmo propuesto es el siguiente:\\

		\IncMargin{1em}
		\begin{algorithm}
			\SetKwData{Left}{left}\SetKwData{This}{this}\SetKwData{Up}{up}
			\SetKwFunction{Union}{Union}\SetKwFunction{FindCompress}{FindCompress}
			\SetKwInOut{Input}{input}\SetKwInOut{Output}{output}
			\Input{$\ id \in \{A,B\},\ init \in \{0,1\},\ k \in \mathbb{N}$}
			\Output{$\ v_A^k\  \&\  v_B^k\ $ tales que $\ |v_A^k - v_B^k|\ \leq\
				\dfrac{1}{2^k}$}
			\KwData{\textbf{Modelo}: $\{A \leftrightarrow B, A \rightarrow B
				\leftarrow B\}$}
			\BlankLine
			$v \leftarrow init$ \;
			\For{$r = 0$ \KwTo $k -1$}{
				send($v$)\;
				$msg \leftarrow$ receive()\;
				\If{$msg \neq null$}{
					\lIf{$msg = v$}{break}
					\lElse{$v \leftarrow \dfrac{v+msg}{2}$}
				}
			}
			return $v$\;
			\caption{Approximate Agreement}
		\end{algorithm}\DecMargin{1em}
		

	}

	%Ejercicio 2
	\item {
		Dibuja la gráfica del protocolo que diseñaste para 2 rondas para $k = 2$.
		Para cada vértice indica el valor de salida y para cada arista indica el
		patrón de mensajes recibidos.
	}


\end{enumerate}
\end{document}
